<h2>{{titulo}}</h2>

<button mat-flat-button routerLink={{rutaCrear}}>Crear Nuevo</button>

<app-listado-generico [listado]="entidades">
    <ng-container vacio>
        <p>No hay géneros para mostrar</p>
    </ng-container>

    <ng-container contenido>
        <table mat-table [dataSource]="entidades" class="mat-elevation-z8 indice-elementos">

            @for(columna of columnasAMostrar; track $index){
                @if(columna === 'acciones'){
                    <ng-container matColumnDef="acciones">
                        <th mat-header-cell *matHeaderCellDef> Acciones </th>
                        <td mat-cell *matCellDef="let elemento">
                            <!-- Corregí el routerLink => cambiado class warn para darle color rojo (estilo global) -->
                            <a routerLink="{{rutaEditar + '/' + elemento.id}}" mat-flat-button>Editar</a>
                            <button mat-flat-button class="mat-warn"
                                [swal]="{title: 'Confirmacion', text: '¿Deseas borrar este registro?', showCancelButton: true}"
                                (confirm)="borrar(elemento.id)"> <!-- añadir sweetalert -->
                                Borrar</button>
                        </td>
                    </ng-container>

                }@else {
                    <ng-container matColumnDef="{{columna}}">
                    <th mat-header-cell *matHeaderCellDef> {{primeraLetraEnMayuscula(columna)}} </th>
                    <td mat-cell *matCellDef="let elemento"> {{elemento[columna]}} </td>
                    </ng-container>
                }
            }

            <tr mat-header-row *matHeaderRowDef="columnasAMostrar"></tr>
            <tr mat-row *matRowDef="let row; columns: columnasAMostrar"></tr>
        </table>

        <!-- paginador -->
        <mat-paginator showFirstLastButtons [length]="cantidadTotalRegistros" [pageIndex]="paginacion.pagina -1"
            [pageSize]="paginacion.recordPorPagina" [pageSizeOptions]="[5, 10, 50]" class="mat--elevation-z8"
            (page)="actualizarPaginacion($event)">
        </mat-paginator>

    </ng-container>
</app-listado-generico>