<app-listado-generico [listado]="peliculas">
  <ng-container contenido>

    <div class="peliculas-contenedor">
      @for (pelicula of peliculas; track $index)
      {
      <div class="pelicula-contenedor">

        <a [routerLink]="['/pelicula', pelicula.id]">
          @if(pelicula.poster){
          <!--si la pelicula tiene poster...-->
          <img [src]="pelicula.poster" width="300" height="360">
          } @else {
          <img src="default.jpg" width="169" height="250">
          }
        </a>

        <p>
          <a [routerLink]="['/pelicula', pelicula.id]"> {{pelicula.titulo}} </a>
        </p>

        <!--los botones solo sera para admin -->
        <app-autorizado rol="admin">
          <ng-container autorizado>
            <div>
              <a mat-flat-button [routerLink]="['peliculas/editar', pelicula.id]">Editar</a>
              <button mat-flat-button type="button" class="warn"
                [swal]="{title: 'Confirmación', text: '¿Deseas borrar el registro?', showCancelButton: true }"
                (confirm)="borrar(pelicula.id)">Borrar</button>
            </div>
          </ng-container>
        </app-autorizado>


      </div>
      }
    </div>

  </ng-container>
</app-listado-generico>